{"remainingRequest":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\src\\views\\Requests.vue?vue&type=template&id=faa72004&scoped=true","dependencies":[{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\src\\views\\Requests.vue","mtime":1630420610092},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630236066608},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1630236066132},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1630236075499},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630236066608},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630236075493}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImRpdnMiPjxicj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5WZXJpZmljYXRpb24gcmVxdWVzdHM8L2gzPjxicj4NCgkJCQkJCTxkaXYgY2xhc3M9ImNvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGlkPSJ0YWJsZUFwcHJvdmVkIiBjbGFzcz0idGFibGUgdGFibGUtYm9yZGVyZWQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk5hbWUgU3VybmFtZTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlVzZXJuYW1lPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+QXBwcm92ZTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkRpc2FwcHJvdmU8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHYtZm9yPSJyIGluIHJlcXVlc3RzIiA6a2V5PSJyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3tyLnVzZXJ9fTwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7ci51c2VybmFtZX19PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj48YnV0dG9uIGNsYXNzPSJidG5SZWdpc3RlciIgdi1vbjpjbGljaz0iQXBwcm92ZShyKSI+QSBQIFAgUiBPIFYgRTwvYnV0dG9uPjwvdGQ+IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPjxidXR0b24gY2xhc3M9ImJ0blJlZ2lzdGVyIiB2LW9uOmNsaWNrPSJEaXNhcHByb3ZlKHIpIj5EIEkgUyBBIFAgUCBSIE8gViBFPC9idXR0b24+PC90ZD4gIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CQkNCgkJCQkJPC9kaXY+DQo="},{"version":3,"sources":["C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\src\\views\\Requests.vue"],"names":[],"mappings":"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","file":"C:/Users/Sasa/Desktop/xml novi 2/XML/Nistagram/vue/src/views/Requests.vue","sourceRoot":"","sourcesContent":["\r\n<template>\r\n  <div class=\"divs\"><br>\r\n                        <h3>Verification requests</h3><br>\r\n\t\t\t\t\t\t<div class=\"container\">\r\n                            <div class=\"row\">\r\n                                                        <table id=\"tableApproved\" class=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                              <tr>\r\n                                                                <th>Name Surname</th>\r\n                                                                <th>Username</th>\r\n                                                                <th>Approve</th>\r\n                                                                <th>Disapprove</th>\r\n                                                              </tr>\r\n                                                            </thead>\r\n                                                            <tbody>\r\n                                                              <tr v-for=\"r in requests\" :key=\"r\">\r\n                                                                <td>{{r.user}}</td>\r\n                                                                <td>{{r.username}}</td>\r\n                                                                <td style=\"text-align:center\"><button class=\"btnRegister\" v-on:click=\"Approve(r)\">A P P R O V E</button></td> \r\n                                                                <td style=\"text-align:center\"><button class=\"btnRegister\" v-on:click=\"Disapprove(r)\">D I S A P P R O V E</button></td>  \r\n                                                              </tr>\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                        </div>\r\n                                              </div>\t\t\r\n\t\t\t\t\t</div>\r\n</template>\r\n\r\n<script>\r\nconst axios=require('axios')\r\n\r\nexport default {\r\n  name: 'Requests',\r\n  components: {\r\n  },\r\n  data: function () {\r\n\t\treturn {\r\n            requests:[],\r\n            image:null,\r\n            error:'',\r\n            userr:null\r\n\t\t}\r\n\t},\r\n\tbeforeMount(){\r\n\r\n         axios\r\n                .get(\"http://localhost:8080/api/user-request/getRequestsByReceiverId/\" + localStorage.getItem('userId'),\r\n\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n                .then(response => {\r\n                  if (response.status==200){\r\n                    this.requests = response.data\r\n                    //alert(\"Usao u metodu\")\r\n                    //alert(this.requests.length)\r\n                    if(this.requests != null){\r\n                      //alert(\"aa\")\r\n                      for(let i = 0; i < this.requests.length; i++){\r\n                        //alert( this.requests[i].fol1)\r\n                          axios\r\n                                  .get(\"http://localhost:8080/api/user/getMyPersonalData/\" + this.requests[i].fol1,\r\n                          {\r\n                                headers: {\r\n                                  'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n                                }\r\n                          })\r\n                                  .then(response1 => {\r\n                                    if (response1.status==200){\r\n                                      this.userr = response1.data\r\n                                        if(this.userr != null){\r\n                                          this.requests[i].user = this.userr.name + this.userr.surname\r\n                                          this.requests[i].username = this.userr.username\r\n                                        }\r\n                                    }\r\n                                })\r\n                      }\r\n                    }\r\n                  \r\n                }\r\n              })\r\n\r\n\t},\r\n\t\r\n  methods: {\r\n      \r\n   onFileChange( e) {\r\n\r\n       const URL = 'http://foobar.com/upload'; \r\n\r\n    let data = new FormData();\r\n    data.append('name', 'my-picture');\r\n    data.append('file', e.target.files[0]); \r\n\r\n    let config = {\r\n      header : {\r\n        'Content-Type' : 'image/png'\r\n      }\r\n    }\r\n\r\n    axios.put(\r\n      URL, \r\n      data,\r\n      config\r\n    ).then(\r\n      response => {\r\n        console.log('image upload response > ', response)\r\n      }\r\n    )\r\n\r\n      var files = e.target.files || e.dataTransfer.files;\r\n      if (!files.length)\r\n        return;\r\n      this.createImage(files[0]);\r\n    },\r\n    createImage(file) {\r\n      var reader = new FileReader();\r\n\r\n      reader.onload = (e) => {\r\n        this.image = e.target.result;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    },\r\n   Approve(r){\r\n     \r\n       let c = {\r\n          fol1: parseInt(3),\r\n          fol2: parseInt(2),\r\n        }\r\n       axios\r\n                .put(\"http://localhost:8080/api/user/addFollower/\" + localStorage.getItem('userId') + '/' + r.fol1,c,\r\n\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer' + \" \" + localStorage.getItem('token'),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n                .then(response => {\r\n                  if (response.status==200){\r\n                    this.Disapprove(r)\r\n                    location.reload()\r\n                  }\r\n              })\r\n               .catch(error => {\r\n                // print(error.status == 417)\r\n                if(error == \"Error: Request failed with status code 400\"){\r\n                   alert(\"Error\")\r\n                  }\r\n                })\r\n\r\n   },\r\n   Disapprove(r){\r\n \r\n       axios\r\n                                  .get(\"http://localhost:8080/api/user-request/deleteRequest/\" + r.id,\r\n                          {\r\n                                headers: {\r\n                                  'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n                                }\r\n                          })\r\n                                  .then(response1 => {\r\n                                    if (response1.status==200){\r\n                                      location.reload()\r\n                                    }\r\n                                })\r\n   }\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btnRegister{\r\n    border: none;\r\n    border-radius: 1.5rem;\r\n    padding: 2%;\r\n    background: #55556a;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n\r\n.divs{\r\n    min-height: 300px;\r\n    border-radius: 1.5rem;\r\n    background: -webkit-linear-gradient(left, #eeeef5, #fcfeff);\r\n    margin-left: 3%;\r\n    margin-right: 3%;  \r\n    text-align:center\r\n}\r\n.tableBorder {\r\n    border: hidden;\r\n    border-width: medium;\r\n    border-collapse: separate;\r\n    border-spacing: 0 15px;\r\n    font-family: Impact;\r\n    background-image: linear-gradient(to right, lightblue,white);\r\n}\r\n</style>\r\n"]}]}