{"remainingRequest":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\src\\views\\Requests.vue?vue&type=style&index=0&id=faa72004&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\src\\views\\Requests.vue","mtime":1630420610092},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1630236068158},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1630236075499},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1630236071698},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630236066608},{"path":"C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630236075493}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouYnRuUmVnaXN0ZXJ7DQogICAgYm9yZGVyOiBub25lOw0KICAgIGJvcmRlci1yYWRpdXM6IDEuNXJlbTsNCiAgICBwYWRkaW5nOiAyJTsNCiAgICBiYWNrZ3JvdW5kOiAjNTU1NTZhOw0KICAgIGNvbG9yOiAjZmZmOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLmRpdnN7DQogICAgbWluLWhlaWdodDogMzAwcHg7DQogICAgYm9yZGVyLXJhZGl1czogMS41cmVtOw0KICAgIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsICNlZWVlZjUsICNmY2ZlZmYpOw0KICAgIG1hcmdpbi1sZWZ0OiAzJTsNCiAgICBtYXJnaW4tcmlnaHQ6IDMlOyAgDQogICAgdGV4dC1hbGlnbjpjZW50ZXINCn0NCi50YWJsZUJvcmRlciB7DQogICAgYm9yZGVyOiBoaWRkZW47DQogICAgYm9yZGVyLXdpZHRoOiBtZWRpdW07DQogICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsNCiAgICBib3JkZXItc3BhY2luZzogMCAxNXB4Ow0KICAgIGZvbnQtZmFtaWx5OiBJbXBhY3Q7DQogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCBsaWdodGJsdWUsd2hpdGUpOw0KfQ0K"},{"version":3,"sources":["C:\\Users\\Sasa\\Desktop\\xml novi 2\\XML\\Nistagram\\vue\\src\\views\\Requests.vue"],"names":[],"mappings":"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","file":"C:/Users/Sasa/Desktop/xml novi 2/XML/Nistagram/vue/src/views/Requests.vue","sourceRoot":"","sourcesContent":["\r\n<template>\r\n  <div class=\"divs\"><br>\r\n                        <h3>Verification requests</h3><br>\r\n\t\t\t\t\t\t<div class=\"container\">\r\n                            <div class=\"row\">\r\n                                                        <table id=\"tableApproved\" class=\"table table-bordered\">\r\n                                                            <thead>\r\n                                                              <tr>\r\n                                                                <th>Name Surname</th>\r\n                                                                <th>Username</th>\r\n                                                                <th>Approve</th>\r\n                                                                <th>Disapprove</th>\r\n                                                              </tr>\r\n                                                            </thead>\r\n                                                            <tbody>\r\n                                                              <tr v-for=\"r in requests\" :key=\"r\">\r\n                                                                <td>{{r.user}}</td>\r\n                                                                <td>{{r.username}}</td>\r\n                                                                <td style=\"text-align:center\"><button class=\"btnRegister\" v-on:click=\"Approve(r)\">A P P R O V E</button></td> \r\n                                                                <td style=\"text-align:center\"><button class=\"btnRegister\" v-on:click=\"Disapprove(r)\">D I S A P P R O V E</button></td>  \r\n                                                              </tr>\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                        </div>\r\n                                              </div>\t\t\r\n\t\t\t\t\t</div>\r\n</template>\r\n\r\n<script>\r\nconst axios=require('axios')\r\n\r\nexport default {\r\n  name: 'Requests',\r\n  components: {\r\n  },\r\n  data: function () {\r\n\t\treturn {\r\n            requests:[],\r\n            image:null,\r\n            error:'',\r\n            userr:null\r\n\t\t}\r\n\t},\r\n\tbeforeMount(){\r\n\r\n         axios\r\n                .get(\"http://localhost:8080/api/user-request/getRequestsByReceiverId/\" + localStorage.getItem('userId'),\r\n\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n                .then(response => {\r\n                  if (response.status==200){\r\n                    this.requests = response.data\r\n                    //alert(\"Usao u metodu\")\r\n                    //alert(this.requests.length)\r\n                    if(this.requests != null){\r\n                      //alert(\"aa\")\r\n                      for(let i = 0; i < this.requests.length; i++){\r\n                        //alert( this.requests[i].fol1)\r\n                          axios\r\n                                  .get(\"http://localhost:8080/api/user/getMyPersonalData/\" + this.requests[i].fol1,\r\n                          {\r\n                                headers: {\r\n                                  'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n                                }\r\n                          })\r\n                                  .then(response1 => {\r\n                                    if (response1.status==200){\r\n                                      this.userr = response1.data\r\n                                        if(this.userr != null){\r\n                                          this.requests[i].user = this.userr.name + this.userr.surname\r\n                                          this.requests[i].username = this.userr.username\r\n                                        }\r\n                                    }\r\n                                })\r\n                      }\r\n                    }\r\n                  \r\n                }\r\n              })\r\n\r\n\t},\r\n\t\r\n  methods: {\r\n      \r\n   onFileChange( e) {\r\n\r\n       const URL = 'http://foobar.com/upload'; \r\n\r\n    let data = new FormData();\r\n    data.append('name', 'my-picture');\r\n    data.append('file', e.target.files[0]); \r\n\r\n    let config = {\r\n      header : {\r\n        'Content-Type' : 'image/png'\r\n      }\r\n    }\r\n\r\n    axios.put(\r\n      URL, \r\n      data,\r\n      config\r\n    ).then(\r\n      response => {\r\n        console.log('image upload response > ', response)\r\n      }\r\n    )\r\n\r\n      var files = e.target.files || e.dataTransfer.files;\r\n      if (!files.length)\r\n        return;\r\n      this.createImage(files[0]);\r\n    },\r\n    createImage(file) {\r\n      var reader = new FileReader();\r\n\r\n      reader.onload = (e) => {\r\n        this.image = e.target.result;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    },\r\n   Approve(r){\r\n     \r\n       let c = {\r\n          fol1: parseInt(3),\r\n          fol2: parseInt(2),\r\n        }\r\n       axios\r\n                .put(\"http://localhost:8080/api/user/addFollower/\" + localStorage.getItem('userId') + '/' + r.fol1,c,\r\n\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer' + \" \" + localStorage.getItem('token'),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n                .then(response => {\r\n                  if (response.status==200){\r\n                    this.Disapprove(r)\r\n                    location.reload()\r\n                  }\r\n              })\r\n               .catch(error => {\r\n                // print(error.status == 417)\r\n                if(error == \"Error: Request failed with status code 400\"){\r\n                   alert(\"Error\")\r\n                  }\r\n                })\r\n\r\n   },\r\n   Disapprove(r){\r\n \r\n       axios\r\n                                  .get(\"http://localhost:8080/api/user-request/deleteRequest/\" + r.id,\r\n                          {\r\n                                headers: {\r\n                                  'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n                                }\r\n                          })\r\n                                  .then(response1 => {\r\n                                    if (response1.status==200){\r\n                                      location.reload()\r\n                                    }\r\n                                })\r\n   }\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btnRegister{\r\n    border: none;\r\n    border-radius: 1.5rem;\r\n    padding: 2%;\r\n    background: #55556a;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n\r\n.divs{\r\n    min-height: 300px;\r\n    border-radius: 1.5rem;\r\n    background: -webkit-linear-gradient(left, #eeeef5, #fcfeff);\r\n    margin-left: 3%;\r\n    margin-right: 3%;  \r\n    text-align:center\r\n}\r\n.tableBorder {\r\n    border: hidden;\r\n    border-width: medium;\r\n    border-collapse: separate;\r\n    border-spacing: 0 15px;\r\n    font-family: Impact;\r\n    background-image: linear-gradient(to right, lightblue,white);\r\n}\r\n</style>\r\n"]}]}