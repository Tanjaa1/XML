{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\src\\views\\Login.vue","mtime":1630233819737},{"path":"C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630233760604},{"path":"C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1630233759417},{"path":"C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630233760604},{"path":"C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1630233809386}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcjogW10sCiAgICAgIGxvZzogZmFsc2UsCiAgICAgIHVzZXJuYW1lVGV4dDogbnVsbCwKICAgICAgcGFzc3dvcmRUZXh0OiBudWxsLAogICAgICBsb2dpblJlc3BvbnNlOiBudWxsLAogICAgICB0b2tlbjogbnVsbCwKICAgICAgcm9sZTogbnVsbCwKICAgICAgand0QXV0aGVudGljYXRpb25SZXF1ZXN0OiB7fSwKICAgICAgZmlyc3Rsb2c6IG51bGwsCiAgICAgIHVzZXI6IG51bGwKICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBMb2dJbjogZnVuY3Rpb24gTG9nSW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ3VzZXJuYW1lIikudmFsdWUgIT0gIiIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ3Bhc3N3b3JkIikudmFsdWUgIT0gIiIpIHsKICAgICAgICAvL3Bveml2CiAgICAgICAgdGhpcy51c2VybmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2d1c2VybmFtZSIpLnZhbHVlOwogICAgICAgIHRoaXMucGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9ncGFzc3dvcmQiKS52YWx1ZTsKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdXNlci9sb2dpbi8nICsgdGhpcy51c2VybmFtZSArICcvJyArIHRoaXMucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy50b2tlbiA9IHJlc3BvbnNlLmRhdGE7IC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHJlc3BvbnNlLmRhdGEuaWQpCgogICAgICAgICAgYWxlcnQoX3RoaXMudG9rZW4pOwoKICAgICAgICAgIGlmIChfdGhpcy50b2tlbiA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgYWxlcnQoIlVzZXJuYW1lIG9yIHBhc3N3b3JkIGFyZSB3cm9uZywgcGxlYXNlIHRyeSBhZ2FpbiBmb3IgdG9rZW4iKTsKICAgICAgICAgIH0KCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBfdGhpcy50b2tlbik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXNMb2dnZWQnLCB0cnVlKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsIF90aGlzLnVzZXJuYW1lKTsgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sZScscmVzcG9uc2UuZGF0YS5yb2xlKQoKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmaXJzdGxvZycsIHJlc3BvbnNlLmRhdGEuZmlyc3RUaW1lTG9naW4pOwogICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3VzZXIvZ2V0VXNlckJ5VXNlcm5hbWUvJyArIF90aGlzLnVzZXJuYW1lLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXInICsgIiAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMudXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBfdGhpcy51c2VyLmlkKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJuYW1lJywgX3RoaXMudXNlci51c2VybmFtZSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgaWYgKGVycm9yID09ICJFcnJvcjogUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSA0MDAiKSBhbGVydCgiVXNlcm5hbWUgb3IgcGFzc3dvcmQgYXJlIHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluIGFmdGVyIHRoaXMudXNlciEiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgLy8gcHJpbnQoZXJyb3Iuc3RhdHVzID09IDQxNykKICAgICAgICAgIGlmIChlcnJvciA9PSAiRXJyb3I6IFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgNDE3IikgewogICAgICAgICAgICBhbGVydCgiVXNlbmFtZSBhbmQgZW1haWwgbWFzdCBiZSB1bmlxdWUiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yLnB1c2goJ1VzZXJuYW1lL3Bhc3N3b3JkIGlzIGluY29ycmVjdCEnKTsKICAgICAgfSAvL2FsZXJ0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSkKCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\XMLLL\\XML\\nistagram\\vue\\src\\views\\Login.vue"],"names":[],"mappings":"AAqBA,IAAM,KAAK,GAAC,OAAO,CAAC,OAAD,CAAnB;;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE,EAFC;AAIb,EAAA,IAAI,EAAE,gBAAY;AAClB,WAAO;AACN,MAAA,KAAK,EAAC,EADA;AAEN,MAAA,GAAG,EAAC,KAFE;AAGG,MAAA,YAAY,EAAE,IAHjB;AAIN,MAAA,YAAY,EAAE,IAJR;AAKN,MAAA,aAAa,EAAE,IALT;AAMN,MAAA,KAAK,EAAE,IAND;AAON,MAAA,IAAI,EAAC,IAPC;AAQN,MAAA,wBAAwB,EAAC,EARnB;AASN,MAAA,QAAQ,EAAC,IATH;AAUG,MAAA,IAAI,EAAC;AAVR,KAAP;AAaA,GAlBa;AAmBX,EAAA,WAnBW,yBAmBE,CACZ,CApBU;AAqBb,EAAA,OAAO,EAAE;AACT,IAAA,KADS,mBACF;AAAA;;AACN,UAAG,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvC,IAA8C,EAA9C,IAAoD,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvC,IAA8C,EAArG,EAAwG;AACvG;AACY,aAAK,QAAL,GAAgB,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvD;AACA,aAAK,QAAL,GAAgB,QAAQ,CAAC,cAAT,CAAwB,aAAxB,EAAuC,KAAvD;AAEA,QAAA,KAAI,CACf,GADW,CACP,0CAA0C,KAAK,QAA/C,GAA0D,GAA1D,GAAgE,KAAK,QAD9D,EAEX,IAFW,CAEN,UAAA,QAAO,EAAK;AACjB,UAAA,KAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAtB,CADiB,CAEjB;;AACe,UAAA,KAAK,CAAC,KAAI,CAAC,KAAN,CAAL;;AACf,cAAG,KAAI,CAAC,KAAL,IAAY,SAAf,EAAyB;AACxB,YAAA,KAAK,CAAC,4DAAD,CAAL;AACD;;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,KAAI,CAAC,KAAnC;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,UAArB,EAAiC,IAAjC;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,UAArB,EAAgC,KAAI,CAAC,QAArC,EATiB,CAUjB;;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,UAArB,EAAgC,QAAQ,CAAC,IAAT,CAAc,cAA9C;AAEe,UAAA,KAAI,CACjB,GADa,CACT,sDAAoD,KAAI,CAAC,QADhD,EAEb;AACA,YAAA,OAAO,EAAE;AACR,+BAAiB,WAAW,GAAX,GAAiB,YAAY,CAAC,OAAb,CAAqB,OAArB;AAD1B;AADT,WAFa,EAOb,IAPa,CAOR,UAAA,QAAO,EAAK;AACjB,YAAA,KAAI,CAAC,IAAL,GAAY,QAAQ,CAAC,IAArB;AACA,YAAA,YAAY,CAAC,OAAb,CAAqB,QAArB,EAA+B,KAAI,CAAC,IAAL,CAAU,EAAzC;AACqB,YAAA,YAAY,CAAC,OAAb,CAAqB,UAArB,EAAiC,KAAI,CAAC,IAAL,CAAU,QAA3C;AAErB,WAZa,EAab,KAba,CAaP,UAAA,KAAI,EAAK;AACM,gBAAG,KAAI,IAAK,4CAAZ,EACI,KAAK,CAAC,mEAAD,CAAL;AACP,WAhBL;AAiBH,SAhCD,EAiCC,KAjCD,CAiCO,UAAA,KAAI,EAAK;AAChB;AACA,cAAG,KAAI,IAAK,4CAAZ,EAAyD;AACtD,YAAA,KAAK,CAAC,kCAAD,CAAL;AACD;AACD,SAtCD;AAwCZ,OA7CD,MA6CK;AACJ,aAAK,KAAL,CAAW,IAAX,CAAgB,iCAAhB;AACD,OAhDM,CAiDG;;AACV;AAnDS;AArBI,CAAf","sourcesContent":["<template>\r\n  <div class=\"register container divs\">\r\n        <h3 class=\"word\">Log in</h3><br><br>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <div class=\"form-group\">\r\n            <input id=\"logusername\" type=\"text\" class=\"form-control\" placeholder=\"Username *\" value=\"\" /><br>\r\n            <input id=\"logpassword\" type=\"password\" class=\"form-control\" placeholder=\"Password *\" value=\"\" />\r\n          </div><br>\r\n              <a style=\"color:red\" v-for=\"e in error\" :key=\"e\">\r\n\t\t\t\t\t\t\t\t\t{{e}}\r\n\t\t\t\t\t\t\t</a><br>\r\n          <input type=\"submit\" class=\"btnRegister\"  value=\"Log in\" v-on:click=\"LogIn()\"/><br><br>\r\n          <label><small>Don't have an account?<a href=\"\">Registration</a></small></label>  \r\n      </div>        \r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nconst axios=require('axios')\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n  },\r\n  data: function () {\r\n\t\treturn {\r\n\t\t\terror:[],\r\n\t\t\tlog:false,\r\n            usernameText: null,\r\n\t\t\tpasswordText: null,\r\n\t\t\tloginResponse: null,\r\n\t\t\ttoken: null,\r\n\t\t\trole:null,\r\n\t\t\tjwtAuthenticationRequest:{},\r\n\t\t\tfirstlog:null,\r\n            user:null,\r\n        \r\n\t\t}\r\n\t},\r\n    beforeMount(){\r\n    },\r\n  methods: {\r\n\t\tLogIn(){\r\n\t\t\tif(document.getElementById(\"logusername\").value!=\"\" && document.getElementById(\"logpassword\").value!=\"\"){\r\n\t\t\t\t//poziv\r\n                this.username = document.getElementById(\"logusername\").value\r\n                this.password = document.getElementById(\"logpassword\").value\r\n\r\n                axios\r\n\t\t\t\t.get('http://localhost:8080/api/user/login/' + this.username + '/' + this.password)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tthis.token = response.data\r\n\t\t\t\t\t//localStorage.setItem('userId', response.data.id)\r\n                    alert(this.token)\r\n\t\t\t\t\tif(this.token==undefined){\r\n\t\t\t\t\t\talert(\"Username or password are wrong, please try again for token\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlocalStorage.setItem('token', this.token);\r\n\t\t\t\t\tlocalStorage.setItem('isLogged', true);\r\n\t\t\t\t\tlocalStorage.setItem('username',this.username)\r\n\t\t\t\t\t//localStorage.setItem('role',response.data.role)\r\n\t\t\t\t\tlocalStorage.setItem('firstlog',response.data.firstTimeLogin)\r\n\r\n                    axios\r\n\t\t\t\t\t\t.get('http://localhost:8080/api/user/getUserByUsername/'+this.username,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'Bearer' + \" \" + localStorage.getItem('token')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\tthis.user = response.data\r\n\t\t\t\t\t\t\tlocalStorage.setItem('userId', this.user.id)\r\n                            localStorage.setItem('username', this.user.username)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n                            if(error == \"Error: Request failed with status code 400\")\r\n                                alert(\"Username or password are wrong, please try again after this.user!\")\r\n                        })\r\n                })\r\n                .catch(error => {\r\n                // print(error.status == 417)\r\n                if(error == \"Error: Request failed with status code 417\"){\r\n                   alert(\"Usename and email mast be unique\")\r\n                  }\r\n                })\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthis.error.push('Username/password is incorrect!');\r\n\t\t\t}\r\n            //alert(localStorage.getItem('userId'))\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register{\r\n    margin-top: 3%;\r\n    padding: 3%;\r\n    min-height: 750px;\r\n    text-align: center;\r\n}\r\n.divs{\r\n    border-radius: 1.5rem;\r\n    background: -webkit-linear-gradient(left, #eeeef5, #fcfeff);\r\n}\r\n.register-left{\r\n    text-align: center;\r\n    color: #fff;\r\n    margin-top: 4%;\r\n}\r\n.register-left input{\r\n    border: none;\r\n    border-radius: 1.5rem;\r\n    padding: 2%;\r\n    width: 60%;\r\n    background: #f8f9fa;\r\n    font-weight: bold;\r\n    color: #383d41;\r\n    margin-top: 10%;\r\n    margin-bottom: 3%;\r\n    cursor: pointer;\r\n}\r\n.register-right{\r\n    background: #f8f9fa;\r\n    border-top-left-radius: 10% 50%;\r\n    border-bottom-left-radius: 10% 50%;\r\n}\r\n.register-left img{\r\n    margin-top: 15%;\r\n    margin-bottom: 5%;\r\n    width: 25%;\r\n    -webkit-animation: mover 2s infinite  alternate;\r\n    animation: mover 1s infinite  alternate;\r\n}\r\n@-webkit-keyframes mover {\r\n    0% { transform: translateY(0); }\r\n    100% { transform: translateY(-20px); }\r\n}\r\n@keyframes mover {\r\n    0% { transform: translateY(0); }\r\n    100% { transform: translateY(-20px); }\r\n}\r\n.register-left p{\r\n    font-weight: lighter;\r\n    padding: 12%;\r\n    margin-top: -9%;\r\n}\r\n.register .register-form{\r\n    padding: 5%;\r\n    margin-top: 5%;\r\n}\r\n.register .edit-form{\r\n    padding: 10%;\r\n    margin-top: 10%;\r\n}\r\n.register-form2{\r\n    padding: 10%;\r\n    margin-top: 10%;\r\n    margin-left: 25%;\r\n}\r\n.btnRegister{\r\n    border: none;\r\n    border-radius: 1.5rem;\r\n    padding: 2%;\r\n    background: #55556a;\r\n    color: #fff;\r\n    width: 20%;\r\n    cursor: pointer;\r\n}\r\n.register .nav-tabs{\r\n    margin-top: 3%;\r\n    border: none;\r\n    background: #55556a;\r\n    border-radius: 1.5rem;\r\n    width: 28%;\r\n    float: right;\r\n}\r\n.register .nav-tabs .nav-link{\r\n    padding: 2%;\r\n    height: 34px;\r\n    font-weight: 600;\r\n    color: #fff;\r\n    border-top-right-radius: 1.5rem;\r\n    border-bottom-right-radius: 1.5rem;\r\n}\r\n.register .nav-tabs .nav-link:hover{\r\n    border: none;\r\n}\r\n.register .nav-tabs .nav-link.active{\r\n    width: 100px;\r\n    color: #7559dc;\r\n    border: 2px solid #9679e0;\r\n    border-top-left-radius: 1.5rem;\r\n    border-bottom-left-radius: 1.5rem;\r\n}\r\n.register-heading{\r\n    text-align: center;\r\n    margin-top: 8%;\r\n    margin-bottom: -15%;\r\n    color: #495057;\r\n}\r\n\r\n.word{\r\n    color: #55556a;;\r\n    font-weight: bold;\r\n}\r\n\r\n.row{\r\n  margin-left: 40%;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":""}]}